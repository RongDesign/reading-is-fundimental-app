<section class="page-book">
    <div class="row">
        <!-- ---------------- -->
        <!-- Resource Cover   -->
        <!-- ---------------- -->
        <div class="resource-cover">
            <img class="book-cover" ng-attr-src="{{ book.book.image }}">
        </div>
        <div class="view-details-wrap">
          <button type="button" class="btn btn-blue" ng-click="book.addFavorite($event, book.book)">Add Book Resource <i class="fa" ng-class="{'fa-heart-o': book.favoritesAdded.indexOf(book.book.nid) == -1, 'fa-heart': book.favoritesAdded.indexOf(book.book.nid) > -1}"></i></button>
        </div>

        <!-- ------------------------ -->
        <!-- Resource Description     -->
        <!-- ------------------------ -->
        <div class="resource-description">
            <div class="content">
                <h1 ng-bind-html="book.book.title"></h1>
                <h2 data-contributors data-authors="book.book.authors" data-illustrators="book.book.illustrators"></h2>
                <p>{{ book.book.description }}</p>
            </div>
        </div>

        <div class="resource-information">
            <div class="panel panel-default">
              <div class="panel-body">
                <table class="table">
                  <tbody>
                     <tr>
                      <td class="col-xs-4">Age Range</td>
                      <td class="col-xs-8">{{ book.book.ageRange }}</td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Genres</td>
                      <td class="col-xs-8"><div class="field field-name-field-genres field-type-taxonomy-term-reference field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.genres }}</div></div></div></td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Copyright Year</td>
                      <td class="col-xs-8"><div class="field field-name-field-copyright-year field-type-datetime field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.copyrightYear }}</div></div></div></td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Page Count</td>
                      <td class="col-xs-8"><div class="field field-name-field-page-count field-type-number-integer field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.pageCount }}</div></div></div></td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Publisher</td>
                      <td class="col-xs-8"><div class="field field-name-field-publisher field-type-text field-label-hidden"><div class="field-items"><div class="field-item even" ng-bind-html="book.book.publisher"></div></div></div></td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Grade Level</td>
                      <td class="col-xs-8">{{ book.book.gradeLevel }}</td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">ISBN</td>
                      <td class="col-xs-8"><div class="field field-name-field-isbn field-type-text field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.isbn }}</div></div></div></td>
                    </tr>
                    <tr ng-if="book.book.lexile">
                      <td class="col-xs-4">Lexile</td>
                      <td class="col-xs-8"><div class="field field-name-field-isbn field-type-text field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.lexile }}</div></div></div></td>
                    </tr>
                    <tr>
                      <td class="col-xs-4">Themes</td>
                      <td class="col-xs-8"><div class="field field-name-field-themes field-type-taxonomy-term-reference field-label-hidden"><div class="field-items"><div class="field-item even">{{ book.book.themes }}</div></div></div></td>
                    </tr>
                                    </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="support-materials">
            <div class="view view-support-materials view-id-support_materials view-display-id-related_support_materials view-dom-id-851052beeaf78db51d7bcb52b891ead2 jquery-once-1-processed">
                <div class="view-header">
                  <h3>Support Materials</h3>
                  <button ng-if="book.book.supportMaterials.length" type="button" class="btn btn-blue" ng-click="book.addAll()">
                    <span ng-if="book.favoritesAdded.indexOf('all') == -1">Add All <i class="fa fa-heart-o"></i></i></span>
                    <span ng-if="book.favoritesAdded.indexOf('all') != -1">Added All <i class="fa fa-heart"></i></i></span>
                  </button>
                </div>

                <div class="view-content" ng-if="!book.book.noSupportMaterials && book.book.supportMaterials.length">
                    <div ng-repeat="supportMaterial in book.book.supportMaterials" class="support-material-item clearfix">

                        <a ui-sref="support-material({nid:supportMaterial.nid})">
                            <div class="col-xs-2 col-sm-1 col-md-1 icon">
                                <img class="img-responsive" ng-src="{{ supportMaterial.icon }}">
                            </div>
                            <div class="col-xs-10 col-sm-8 col-md-7 text">
                                <h4 ng-bind-html="supportMaterial.title"></h4>
                                <p ng-bind-html="supportMaterial.description"></p>
                            </div>
                        </a>
                        <div class="col-xs-12 col-sm-3 col-md-4 button">
                            <button type="button" class="btn btn-blue" ng-click="book.addFavorite($event, supportMaterial)">
                              <span ng-if="book.favoritesAdded.indexOf(supportMaterial.nid) == -1" class="button-text">My Favorites <i class="fa fa-heart-o"></i></span>
                              <span ng-if="book.favoritesAdded.indexOf(supportMaterial.nid) != -1" class="button-text">Added <i class="fa fa-heart"></i></span>
                            </button>
                        </div>
                    </div>
                </div>

                <p class="no-support-materials-found" ng-if="book.book.noSupportMaterials">No Support Materials are currently available for this book. We are actively adding new materials.</p>
            </div>
        </div>
    </div>
    <div class="brand-container">
      <related-books data-isbn="book.book.isbn"></related-books>
    </div>


</section>
